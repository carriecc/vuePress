(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{291:function(o,s,e){"use strict";e.r(s);var l=e(3),r=Object(l.a)({},(function(){var o=this,s=o.$createElement,e=o._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":o.$parent.slotKey}},[e("h1",{attrs:{id:"cors-安全"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cors-安全"}},[o._v("#")]),o._v(" CORS 安全")]),o._v(" "),e("p",[o._v("CORS（Cross-Origin Resource Sharing, 跨域资源共享）是HTML5的一个新特性，用于替代 JSONP，实现更安全规范地支持跨域网络资源共享。从2009年开始，CORS协议就已经被各大浏览器（如 Chrome， Firefox等）支持，目前已经被主流网站广泛部署使用。")]),o._v(" "),e("p",[o._v("CORS 涉及很多 HTTP 头部，但就安全而言最重要的是以下两个：")]),o._v(" "),e("ul",[e("li",[o._v("Access-Control-Allow-Origin：指定可以获取网站资源的域名。")]),o._v(" "),e("li",[o._v("Access-Control-Allow-Methods：指定可以使用那种请求（GET，PUT，DELETE 等）。")])]),o._v(" "),e("p",[o._v("实现 CORS 最常见的的安全问题就是没有通过白名单过滤请求。比如开发者通常将Access-Control-Allow-Origin响应头设为*，这让任何域名都可以获取网站的资源。")]),o._v(" "),e("p",[o._v("只有当网站内容完全可以公开的时候才可以将"),e("code",[o._v("Access-Control-Allow-Origin")]),o._v("设为"),e("code",[o._v("*")]),o._v("，否则，即使网站只能在内网访问，"),e("code",[o._v("*")]),o._v("也是不安全的。比如在同一个浏览器中同时打开了你的内网网站跟一个外部的网站，入侵者可以通过这个外部网站来向你的内网网站发起任何请求获取敏感信息。")]),o._v(" "),e("p",[o._v("CORS 标准规定，"),e("code",[o._v("Access-Control-Allow-Origin")]),o._v("只能配置为单个 origin, null或 *。如果开发者想要实现同时与多个域名共享域名的需求，则需要专门编写代码或者使用框架来协助动态生成访问控制策略。")]),o._v(" "),e("p",[o._v("而"),e("code",[o._v("Access-Control-Allow-Methods")]),o._v("限制了外部域名可以使用哪些请求方法，如果用户只需要读取数据，就只应该开放读的方法，而不允许修改网站中的数据。")])])}),[],!1,null,null,null);s.default=r.exports}}]);